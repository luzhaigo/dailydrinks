(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports={order_list:"OrderList_order_list__1pJr2",wrapper:"OrderList_wrapper__IwMyA",message:"OrderList_message__7NqT8"}},12:function(e,t,n){e.exports={drink:"Drink_drink__24aVk",info:"Drink_info__1YMhu",note:"Drink_note__28y9w"}},14:function(e,t,n){e.exports={App:"App_App__3-ip6",web_name:"App_web_name__1PB-o",add_order:"App_add_order__3Il5l"}},2:function(e,t,n){e.exports={item:"OrderItem_item__2eFdm",name:"OrderItem_name__3a6yL",info:"OrderItem_info__18H2z",price:"OrderItem_price__1sZb4",note:"OrderItem_note__3fQfR",delete:"OrderItem_delete__uE9co"}},22:function(e,t,n){e.exports={outside:"Modal_outside__2RMy0"}},23:function(e,t,n){e.exports=n(33)},28:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),i=n.n(c),l=(n(28),n(8)),o=n(7),u=n(18),d=Object(o.b)({orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_order_items":return[].concat(Object(u.a)(e),Object(u.a)(t.payload));case"update_order_item":var n=t.payload,a=n.index,r=n.item;return e.map(function(e,t){return t===a?r:e});case"delete_order_item":var c=t.payload;return e.filter(function(e,t){return t!==c});default:return e}}}),m=n(3),s=n(9),p=n(13),_=n(2),f=n.n(_),k=function(e){var t=e.updateOrderItem,n=e.deleteOrderItem,c=Object(p.a)(e,["updateOrderItem","deleteOrderItem"]),i=Object(a.useState)(!1),l=Object(m.a)(i,2),o=l[0],u=l[1],d=Object(a.useState)(c.note),_=Object(m.a)(d,2),k=_[0],O=_[1],b=Object(a.useRef)(null);Object(a.useEffect)(function(){b.current&&b.current.focus()},[o]);return r.a.createElement("li",{className:f.a.item},r.a.createElement("div",{className:f.a.name},c.name),r.a.createElement("div",{className:f.a.info},r.a.createElement("div",null,"price: $",r.a.createElement("span",{className:f.a.price},c.price)),r.a.createElement("input",{type:"number",className:f.a.count,value:c.count,onChange:function(e){+e.target.value<1&&(e.target.value=1),t(Object(s.a)({},c,{count:+e.target.value}))}})),c.note&&r.a.createElement("div",null,"note:",o?r.a.createElement("textarea",{value:k,className:f.a.note,ref:b,onBlur:function(e){u(!1),t(Object(s.a)({},c,{note:e.target.value}))},onChange:function(e){O(e.target.value)}}):r.a.createElement("pre",{className:f.a.note,onClick:function(){u(!0)}},c.note)),r.a.createElement("button",{className:f.a.delete,onClick:n}))},O=n(11),b=n.n(O),E=Object(l.b)(function(e){return{list:e.orderList}},{updateOrderItemByIndex:function(e,t){return{type:"update_order_item",payload:{item:t,index:e}}},deleteOrderItemByIndex:function(e){return{type:"delete_order_item",payload:e}}})(function(e){var t=e.list,n=e.updateOrderItemByIndex,a=e.deleteOrderItemByIndex;return r.a.createElement("div",{id:b.a.order_list},r.a.createElement("h2",{className:b.a.title},"Order List:"),r.a.createElement("ul",{className:b.a.wrapper},t.length?t.map(function(e,t){return r.a.createElement(k,Object.assign({key:t},e,{updateOrderItem:function(e){n(t,e)},deleteOrderItem:function(){a(t)}}))}):r.a.createElement("div",{className:b.a.message},"Please click Add button to order drinks!")))}),v=n(12),j=n.n(v),I=function(e){var t=e.setDrink,n=Object(p.a)(e,["setDrink"]),c=Object(a.useCallback)(function(e){t(Object(s.a)({},n,{count:+e.target.value}))},[t,n]),i=Object(a.useCallback)(function(e){t(Object(s.a)({},n,{note:e.target.value}))},[t,n]);return r.a.createElement("li",{className:j.a.drink},r.a.createElement("div",{className:j.a.name},n.name),r.a.createElement("div",{className:j.a.info},r.a.createElement("div",null,"price: $",n.price),r.a.createElement("input",{value:n.count,type:"number",onChange:c})),r.a.createElement("textarea",{className:j.a.note,onChange:i}))},y=n(5),N=n.n(y),g=[{name:"drink#1",price:"25",count:0},{name:"drink#2",price:"30",count:0},{name:"drink#3",price:"35",count:0},{name:"drink#4",price:"40",count:0},{name:"drink#5",price:"45",count:0},{name:"drink#6",price:"50",count:0},{name:"drink#7",price:"55",count:0},{name:"drink#8",price:"60",count:0},{name:"drink#9",price:"65",count:0},{name:"drink#10",price:"70",count:0},{name:"drink#11",price:"25",count:0},{name:"drink#12",price:"30",count:0}],w=Object(l.b)(null,{addOrderItems:function(e){return{type:"add_order_items",payload:e}}})(function(e){var t=e.closeModal,n=e.addOrderItems,c=Object(a.useState)(g),i=Object(m.a)(c,2),l=i[0],o=i[1];return r.a.createElement("div",{className:N.a.drinks_menu,onClick:function(e){return e.stopPropagation()}},r.a.createElement("h3",{className:N.a.title},"Drink List:"),r.a.createElement("ul",{className:N.a.drinks_wrapper},function(e,t){return e.map(function(n,a){return r.a.createElement(I,Object.assign({key:n.name},n,{setDrink:function(n){t(e.map(function(e,t){return a===t?n:e}))}}))})}(l,o)),r.a.createElement("div",{className:N.a.panel},r.a.createElement("button",{className:N.a.action,onClick:t},"Cancel"),r.a.createElement("button",{className:N.a.action,onClick:function(){n(l.filter(function(e){return e.count>0})),t()}},"Add")))}),C=n(22),h=n.n(C),x=function(e){var t=e.closeModal,n=e.children;return i.a.createPortal(r.a.createElement("div",{className:h.a.outside,onClick:t},n),document.getElementById("modal-root"))},D=n(14),M=n.n(D),A=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Object(a.useCallback)(function(){c(!n)},[n]),l=Object(a.useCallback)(function(){return c(!1)},[]);return r.a.createElement("div",{className:M.a.App},r.a.createElement("h1",{id:M.a.web_name},"DailyDrinks"),r.a.createElement(E,null),r.a.createElement("button",{className:M.a.add_order,onClick:i}),n&&r.a.createElement(x,{closeModal:l},r.a.createElement(w,{closeModal:l})))};i.a.render(r.a.createElement(function(e){var t=e.children,n=e.initialState,a=void 0===n?{}:n,c=Object(o.c)(d,a);return r.a.createElement(l.a,{store:c},t)},null,r.a.createElement(A,null)),document.getElementById("root"))},5:function(e,t,n){e.exports={drinks_menu:"DrinksMenu_drinks_menu__2IbUO",drinks_wrapper:"DrinksMenu_drinks_wrapper__42zeJ",title:"DrinksMenu_title__QUQ7p",panel:"DrinksMenu_panel__1ciRO",action:"DrinksMenu_action__36a2I"}}},[[23,1,2]]]);
//# sourceMappingURL=main.778965de.chunk.js.map